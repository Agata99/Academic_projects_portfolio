<!doctype html>
<html lang="pl">
	<head>
		<meta charset="utf-8">
		<title>Lista filmów z największą liczbą widzów po 1989 roku</title>
		<meta name="keywords" content="filmy, kino">
		<meta name="description" content="Strona ta prezentuje tabele i jej analizę prezentującą filmy z największą liczbą widzów po 1989 roku">
		<meta name="author" content="Katarzyna Pasińska, Agata Machula">
		<script type="text/javascript"  src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<style>
         body {
	width: 100%;
	height: 100%;
	background: url("./tlo.jpg") top center;
	background-attachment: fixed;
background-size: 95%;
	margin: 0;
	padding: 0;
}

section#wrapper{
	width: 1000px;
	height:100%;
	margin: 0px auto;
	background: rgba(600, 255, 255, 0.9);
	
}
table, th, td {
        border: 1px solid black;
	text-align: center;
	}
TH{
background-color:gray;
}
table{
width: 80%;
	margin: 20px auto;
}
div {
border: 3px solid Black;
padding: 7px;
width: 900px;
margin:20px;
}
		 
		 h1{
	color: #660099;
	font-family: 'Roboto Condensed', sans-serif;
	font-size: 50px;
	text-align: center;
 text-shadow: 2px 2px 5px grey;
}
h2,h3,h4{
	color:#9933CC;
	font-family: 'Roboto Condensed', sans-serif;
	font-size: 30px;
margin: 15px;
text-align: center;
}
p{
font-size:20px;
margin:20px;
}
ul{
font-size:20px;
}
#menu ul{
	display: block;
	list-style: none;
padding: 0;
margin: 0px;
  clear: left;
   float: left;
	position: relative;
   left: 35%;		
}
#menu ul li {
	float: left;
	margin:0px;
	text-align:center;		
}
#menu ul a:link, ul a:visited {
	text-decoration: none;
	display: block;
	width: 90px;
	text-align: center;
	background-color: #ccc;
	color: #000;
	border: 2px outset #ccc;
	padding: 5px;
}
#menu ul a:hover {
	border-style: inset;
	padding: 7px 3px 3px 7px;
	}
p.right{
	float:right;	
}

      </style>
	</head>
<body>
 <section id="wrapper">
  <header>
    <h1>Lista filmów z największą widownią po 1989 roku.</h1>
  </header>
<br>
					<table id="table">
    <TR> <TH>Lp.</TH> <TH>Tytuł</TH><TH>Rok</TH> <TH>Widzowie</TH> <TH>Przychód</TH> </TR>
    <tr> <td class="klasa1"> 1. </td><td class="klasa2">Ogniem i mieczem </td><td class="klasa3">1999 </td><td class="klasa4">7151354</td><td class="klasa5">105089363</td></tr>
   <tr> <td class="klasa1"> 2. </td><td class="klasa2">Pan Tadeusz </td><td class="klasa3">1999 </td><td class="klasa4">6168344</td><td class="klasa5">82839843</td></tr>
   <tr> <td class="klasa1"> 3. </td><td class="klasa2">Kler </td><td class="klasa3"> 2018 </td><td class="klasa4">5184258</td><td class="klasa5">105261308</td></tr>
   <tr> <td class="klasa1"> 4. </td><td class="klasa2">Quo vadis </td><td class="klasa3">2001 </td><td  class="klasa4">4300351</td><td class="klasa5">69045592</td></tr>
    <tr> <td class="klasa1"> 5. </td><td class="klasa2">Listy do M. 3 </td><td class="klasa3">2017 </td><td class="klasa4">30009971</td><td class="klasa5">65204800</td></tr>
	
	   	
	   <tr>
    <td class="klasa1">6.</td>
    <td class="klasa2">Nigdy w życiu</td>
    <td class="klasa3">2004</td>
    <td class="klasa4">1624265</td>
     <td class="klasa5">22785418</td>
  </tr>
  <tr>
    <td class="klasa1">7.</td>
    <td class="klasa2">Tylko mnie kochaj</td>
    <td class="klasa3">2006</td>
    <td class="klasa4">1668462</td>
	<td class="klasa5">24656008</td>
  </tr>
  <tr>
    <td class="klasa1">8.</td>
    <td class="klasa2">Planeta singli 2</td>
    <td class="klasa3">2018</td>
	<td class="klasa4">1688830</td>
	<td class="klasa5">25674600</td>
  </tr>
  <tr>
    <td class="klasa1">9.</td>
    <td class="klasa2">Karol-papież, który pozostał człowiekiem</td>
    <td class="klasa3">2006</td>
	<td class="klasa4">1742555</td>
	<td class="klasa5">21352223</td>
  </tr>
 <tr>
    <td class="klasa1">10.</td>
    <td class="klasa2">Jan Paweł II</td>
    <td class="klasa3">2006</td>
	<td class="klasa4">1913155</td>
	<td class="klasa5">24233378</td>
  </tr>
 <tr>
    <td class="klasa1">11.</td>
    <td class="klasa2">Zemsta</td>
    <td class="klasa3">2002</td>
	<td class="klasa4">1976984</td>
	<td class="klasa5">22188006</td>
  </tr>
 <tr>
    <td class="klasa1">12.</td>
    <td class="klasa2">Kiler</td>
    <td class="klasa3">1997</td>
	<td class="klasa4">2200943</td>
	<td class="klasa5">17319110</td>
	 </tr>
	 <tr> <td class="klasa1"> 13. </td><td class="klasa2"> Listy do M. 2 </td><td class="klasa3">2015 </td><td class="klasa4">2960806</td><td class="klasa5">54004780 </td></tr>
	  <tr> <td class="klasa1"> 14. </td><td class="klasa2">Pitbull. Niebezpieczne kobiety </td><td class="klasa3">2016 </td><td class="klasa4">2873149</td><td class="klasa5">58522569 </td></tr>
	   <tr> <td class="klasa1"> 15. </td><td class="klasa2">Katyń </td><td class="klasa3">2007 </td><td class="klasa4">2761594</td><td class="klasa5">35200000</td></tr>
</table> <br>

  
<div>
<form action="#" name="wiersze">
<br>
    <label>
       Lp. = <input id="lp" name="lp" >
	 </label>
	 <label>
        Tytuł = <input id="tytul" name="tytuł" >
	 </label>
	 <label>
        Rok = <input id="rok" name="rok" >
    </label>
	<label>
        Widzowie = <input id="widzowie" name="widzowie" >
    </label>
	<label>
        Przychody = <input id="przychody" name="przychody" >
    </label>
	<br> <br>
	<input type="button" value="DODAJ WIERSZ" onClick="dodawanie()">
	
<br>
</form>
</div>
  
<script>
	function dodawanie(){
 	const lp = parseInt(document.wiersze.lp.value);
        const tytul =(document.wiersze.tytul.value);
        const rok = parseInt(document.wiersze.rok.value);
	 const widzowie = parseInt(document.wiersze.widzowie.value);
	 const przychody = parseInt(document.wiersze.przychody.value);
		

        let table=document.getElementById("table");

      table.innerHTML +="<tr><td>"+lp+"</td><td>"+tytul+"</td><td>"+rok+"</td><td>"+widzowie+"</td><td>"+przychody+"</td></tr>"

}
</script>
<h3>Wyliczenie różnicy ilości widzów poszczególnych filmów od średniej wartości widowni</h3>
<br>
    <input type="button" value="OBLICZ różnicę ilości widzów od średniej wartości" onClick="bom1()" style="width:320px; height:50px;margin:20px;">
	<p><span id="srednia"></span></p>
<p><span style="color: green" id="roznica1"></span></p>
<p><span style="color: red" id="roznica2"></span></p>


<script>
  
    function bom1() {
	let suma=0;
	let srednia=0;
	let title = document.getElementsByClassName('klasa2');
	let btn1 = document.getElementsByClassName('klasa4');
      
        for (let i=1; i<btn1.length; i++) {
		
                  suma = suma + parseInt(btn1[i].innerHTML)
                  }
				  srednia=(suma)/(btn1.length)
				  document.getElementById("srednia").innerHTML +=" Średnia widowni: " +srednia;
				  for(let j=1; j<btn1.length;j++){
				  roznica=(parseInt(btn1[j].innerHTML))- parseInt(srednia)
				  if(roznica>0){
				  roznica1=roznica
				document.getElementById("roznica1").innerHTML +="<br>Różnica widowni filmu pt. '" +title[j].innerHTML+"' od wartości średniej wynosi: " +roznica1;}
				if(roznica<0){
				  roznica2=roznica
				document.getElementById("roznica2").innerHTML +="<br>Różnica widowni filmu pt. '" +title[j].innerHTML+"' od wartości średniej wynosi: " +roznica2;}
				
}}

</script>
<h3>Wyliczanie najmniejszego i największego przychodu</h3>
<br>
    <input type="button" value="OBLICZ przychód min i maks" onClick="bom2()" style="width:300px; height:50px;margin:20px;">
<p><span id="minVal"></span></p>
<p><span id="maxVal"></span></p>

<script>
    function bom2() {
	
       let btn2 = document.getElementsByClassName('klasa5');
	   
        for (let i=1; i<btn2.length; i++) {
		if(i===1){
                       minVal = parseInt(btn2[i].innerHTML);
						maxVal = parseInt(btn2[i].innerHTML); 					   
                  }
		 else if(minVal > parseInt(btn2[i].innerHTML)){
                       minVal = parseInt(btn2[i].innerHTML);  
                  }
				  	 else if(maxVal < parseInt(btn2[i].innerHTML)){
                       maxVal = parseInt(btn2[i].innerHTML);  
                  }       
 }     
document.getElementById("minVal").innerHTML= "Najmniejszy przychód to: "+minVal;
document.getElementById("maxVal").innerHTML= "Największy przychód to: "+maxVal;
}

</script>


 <h3>Udział poszczególnych filmów w przychodach branży</h3>
<br>
    <input type="button" value="OBLICZ udział" onClick="udzial1()" style="width:300px; height:50px;margin:20px;">
<p id="udzial"></p>


<script>
    function udzial1() {
	let y=0 ;
	let title = document.getElementsByClassName('klasa2')
       let sum = document.getElementsByClassName('klasa5');
        for (let i=1; i<sum.length; i++) {
		
                  y = y + parseInt(sum[i].innerHTML)
                  }
         for (let j=1; j<sum.length; j++) {     
        	z = Math.round(parseInt(sum[j].innerHTML)/y *100)
       
	document.getElementById("udzial").innerHTML +="<br>Udział filmu pt. '" +title[j].innerHTML+"' w przychodach to ok "+z +"%";
}
}

</script>






<h3>Współczynnik korelacji Pearsona</h3>
<br>
    <input type="button" value="OBLICZ wsp. korelacji" onClick="korelacja1()" style="width:300px; height:50px;margin:20px;">
<p id="korelacja"></p>
<p id="korelacja2"></p>

<script>
    function korelacja1() {
	let s1=0 ;
	let s2=0;
	let sz1=0;
	let sz2=0;
	let cov=0;
	let widz = document.getElementsByClassName('klasa4')
       let przych = document.getElementsByClassName('klasa5');
        for (let i=1; i<widz.length; i++) {
		
                  s1 = s1 + parseInt(przych[i].innerHTML)
		  s2 = s2 + parseInt(widz[i].innerHTML)
                  }
		let sr1 = s1/przych.length
		let sr2 = s2/widz.length
         for (let j=1; j<widz.length; j++) {     
		cov = (parseInt(przych[j].innerHTML) - sr1)*(parseInt(widz[j].innerHTML) - sr2) + cov
        	sz1 = sz1 + Math.pow((parseInt(przych[j].innerHTML) - sr1),2)
       		sz2 = sz2 + Math.pow((parseInt(widz[j].innerHTML) - sr2),2)
		}
		let r = cov/(Math.sqrt(sz1)*Math.sqrt(sz2))


	document.getElementById("korelacja").innerHTML ="Współczynnik korelacji Pearsona wynosi " +r;
		if(Math.abs(r)==0){
			document.getElementById("korelacja2").innerHTML ="Liczba widzów i przychody nie są skorelowane";}
		if(Math.abs(r)>0 & Math.abs(r)<0.5){
			document.getElementById("korelacja2").innerHTML ="Liczba widzów i przychody są słabo skorelowane";}
		
		if(Math.abs(r)>=0.5){
			document.getElementById("korelacja2").innerHTML ="Liczba widzów i przychody są silnie skorelowane";}
		

}

</script>
   
		

  <footer>
    <p><small>Copyright by Katarzyna Pasińska, Agata Machula 2020</small></p>
  </footer>
 </section>
</body>
</html>